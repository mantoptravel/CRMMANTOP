<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Borang Pendaftaran Umrah - Mantop Travel</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    :root { --primary-color: #004085; --accent-color: #007bff; --text-dark: #2d3436; }
    body { background-color: #eef2f7; color: var(--text-dark); font-family: 'Inter', -apple-system, sans-serif; line-height: 1.5; }
    .app-header { background: linear-gradient(135deg, var(--primary-color) 0%, #002d5a 100%); color: white; padding: 40px 15px; text-align: center; border-radius: 0 0 25px 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); margin-bottom: -20px; }
    .header-main-title { font-size: 1.5rem; font-weight: 800; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 8px; }
    .header-company-name { font-size: 1.1rem; font-weight: 700; margin-bottom: 12px; }
    .header-info { font-size: 0.85rem; opacity: 0.95; max-width: 600px; margin: 0 auto; line-height: 1.5; }
    .container-mobile { max-width: 550px; margin: auto; padding: 0 15px 50px 15px; }
    .form-section { background: white; padding: 22px; border-radius: 18px; margin-bottom: 18px; box-shadow: 0 8px 20px rgba(0,0,0,0.04); border: 1px solid rgba(0,0,0,0.02); }
    .section-title { font-size: 1rem; font-weight: 700; color: var(--primary-color); margin-bottom: 18px; display: flex; align-items: center; gap: 10px; }
    .section-title::before { content: ""; display: block; width: 4px; height: 18px; background: var(--accent-color); border-radius: 2px; }
    .form-label { font-weight: 600; font-size: 0.8rem; color: #636e72; margin-bottom: 5px; }
    .form-control, .form-select { border: 2px solid #f1f3f5; padding: 12px 14px; border-radius: 10px; font-size: 0.95rem; }
    .btn-submit { background: var(--primary-color); color: white; border: none; width: 100%; padding: 16px; border-radius: 14px; font-weight: 700; font-size: 1.1rem; box-shadow: 0 8px 15px rgba(0, 64, 133, 0.2); margin-top: 10px; }
    #overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.95); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; }
    #success-screen { display: none; text-align: center; padding: 50px 20px; }
    .success-icon { width: 70px; height: 70px; background: #2ecc71; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 35px; margin: 0 auto 20px; }
  </style>
</head>
<body>

  <div class="app-header" id="header-ui">
    <div class="header-main-title">Borang Pendaftaran Umrah</div>
    <div class="header-company-name">MANTOP TRAVEL & TOURS SDN. BHD.</div>
    <div class="header-info">
      MANTOP TRAVEL & TOURS SDN BHD (KPK/LN:8083 - LKU156)<br>
      NO. 43A, JALAN SJ1, TAMAN SETIA JAYA, 48000, RAWANG SELANGOR (HQ)<br>
      <strong>FB:</strong> Mantop Travel | <strong>EMEL:</strong> mantoptravel@gmail.com
    </div>
  </div>

  <div class="container-mobile">
    <div id="form-ui">
      <form id="pendaftaranForm">
        <div class="form-section mt-4">
          <div class="section-title">Maklumat Pakej</div>
          <div class="mb-3">
            <label class="form-label">Pegawai Pemasaran</label>
            <select name="pegawai" class="form-select" required>
              <option value="" disabled selected>Sila pilih pegawai...</option>
              <option value="Puan Syairah">Puan Syairah</option>
              <option value="Cik Idayu">Cik Idayu</option>
              <option value="Cik Nurul">Cik Nurul</option>
              <option value="Cik Syaimaa">Cik Syaimaa</option>
              <option value="Cik Nadiah">Cik Nadiah</option>
              <option value="Cik Izazi">Cik Izazi</option>
              <option value="Puan Atiqah">Puan Atiqah</option>
              <option value="Puan Amalina">Puan Amalina</option>
              <option value="Puan Normah">Puan Normah</option>
              <option value="En. Rabbani">En. Rabbani</option>
              <option value="En. Fareez">En. Fareez</option>
              <option value="En. Ikhwan">En. Ikhwan</option>
            </select>
          </div>
          <div class="row">
            <div class="col-7 mb-3"><label class="form-label">Nama Pakej</label><input type="text" name="pakej" class="form-control" required></div>
            <div class="col-5 mb-3"><label class="form-label">Tarikh Pilihan</label><input type="date" name="tarikh_pilihan" class="form-control" required></div>
          </div>
        </div>

        <div class="form-section">
          <div class="section-title">Maklumat Peribadi</div>
          <div class="mb-3"><label class="form-label">Nama Penuh (Seperti Dalam Pasport)</label><input type="text" name="nama" class="form-control" style="text-transform: uppercase;" required></div>
          <div class="row">
            <div class="col-6 mb-3"><label class="form-label">Jantina</label><select name="jantina" class="form-select"><option value="Lelaki">Lelaki</option><option value="Perempuan">Perempuan</option></select></div>
            <div class="col-6 mb-3"><label class="form-label">Warganegara</label><input type="text" name="warganegara" class="form-control" value="Warganegara Malaysia"></div>
          </div>
          <div class="mb-3"><label class="form-label">Nombor Pasport</label><input type="text" name="nombor_pasport" class="form-control" required></div>
          <div class="row">
            <div class="col-7 mb-3"><label class="form-label">Tarikh Lahir</label><input type="date" name="tarikh_lahir" class="form-control"></div>
            <div class="col-5 mb-3"><label class="form-label">Tahun Lahir</label><input type="number" name="tahun_lahir" class="form-control"></div>
          </div>
          <div class="mb-0"><label class="form-label">Tempat Lahir</label><input type="text" name="tempat_lahir" class="form-control"></div>
        </div>

        <div class="form-section">
          <div class="section-title">Maklumat Pasport</div>
          <div class="row">
            <div class="col-6"><label class="form-label">Tarikh Dikeluarkan</label><input type="date" name="tarikh_dikeluarkan" class="form-control"></div>
            <div class="col-6"><label class="form-label">Tarikh Tamat</label><input type="date" name="tarikh_tamat" class="form-control"></div>
          </div>
        </div>

        <div class="form-section">
          <div class="section-title">Kecemasan (Waris)</div>
          <div class="mb-3"><label class="form-label">Nama Waris & No. Tel</label><input type="text" name="waris_info" class="form-control" placeholder="Nama & No. Tel (01x-xxxxxxx)"></div>
          <div class="mb-0"><label class="form-label">Alamat Waris</label><textarea name="alamat_waris" class="form-control" rows="2"></textarea></div>
        </div>

        <button type="submit" class="btn-submit">Hantar Pendaftaran</button>
      </form>
    </div>

    <div id="success-screen" class="form-section mt-5">
      <div class="success-icon">âœ“</div>
      <h3 class="fw-bold">Alhamdulillah!</h3>
      <p class="text-muted">Pendaftaran anda telah berjaya dihantar.</p>
      <hr><button class="btn btn-outline-primary" onclick="location.reload()">Daftar Penama Lain</button>
    </div>
  </div>

  <div id="overlay">
    <div class="spinner-border text-primary" style="width: 2.5rem; height: 2.5rem;" role="status"></div>
    <h5 class="mt-3 fw-bold">Memproses...</h5>
  </div>

  <script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwgqUsLtL-XSLR7PA79-697X6nqMqpTt9HSBvhVMgEPsqOXcsM0jIt9NUpeM833-qxx/exec";
    document.getElementById('pendaftaranForm').addEventListener('submit', function(e) {
      e.preventDefault();
      document.getElementById('overlay').style.display = 'flex';
      const formData = new FormData(this);
      const params = new URLSearchParams();
      formData.forEach((value, key) => params.append(key, value));
      fetch(SCRIPT_URL, { method: "POST", mode: "no-cors", body: params })
      .then(() => {
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('form-ui').style.display = 'none';
        document.getElementById('header-ui').style.display = 'none';
        document.getElementById('success-screen').style.display = 'block';
        window.scrollTo(0,0);
      })
      .catch(err => {
        document.getElementById('overlay').style.display = 'none';
        alert("Ralat teknikal. Sila cuba lagi.");
      });
    });
  </script>
</body>

</html>
